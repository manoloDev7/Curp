<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <title>Inicio</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: Inter;
        background-color: hsl(0, 0%, 85%);
        color: #1a1a1a;
        font-family: Inter;
      }
      nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 1rem;
        background-color: hsl(0, 0%, 96%);
        color: hsl(0, 0%, 40%);
        font-weight: bolder;
        box-shadow: 0 3px 3px hsl(0, 0%, 70%);
      }
      nav .brand {
        font-size: 1.2rem;
        font-weight: 700;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }
      nav ul {
        list-style: none;
        display: flex;
        gap: 2rem;
        margin-right: 70px;
      }
      nav ul li a {
        text-decoration: none;
        color: inherit;
        font-weight: 400;
        transition: opacity 0.2s ease-in-out;
        font-size: 1.2vw;
      }
      nav ul li a:hover {
        color: hsl(0, 0%, 8%);
      }

      @media (max-width: 768px) {
        nav {
          flex-direction: column;
          align-items: flex-start;
          gap: 1rem;
          padding: 1rem 1.5rem;
        }
        nav ul {
          flex-wrap: wrap;
          gap: 1rem;
        }
      }
      .logo {
        height: 100px;
        margin-left: 60px;
      }
      .c-titulo {
        margin-top: 40px;
        margin-left: 80px;
        margin-bottom: 40px;
      }
      .c-titulo .titulo {
        font-size: 4vw;
        color: hsl(0, 0%, 24%);
      }
      .c-titulo .sub {
        font-weight: 400;
        margin-left: 4px;
        color: hsl(0, 0%, 33%);
      }
      .formu1 {
        background-color: hsl(0, 0%, 94%);
        padding: 30px;
        display: flex;
        flex-direction: column;
        max-width: 600px;
        border-radius: 3px;
      }
      .formu1 label {
        margin-bottom: 10px;
      }
      .formu1 input {
        padding: 8px;
      }
      label {
        font-size: 1.2vw;
        color: hsl(0, 0%, 8%);
      }
      input {
        height: 40px;
        font-size: 1vw;
        border: 1px inset;
        background-color: hsl(0, 0%, 90%);
      }
      .formu2 {
        background-color: hsl(0, 0%, 94%);
        padding: 30px;
        display: flex;
        flex-direction: row;
        max-width: 1200px;
        border-radius: 3px;
        display: none;
      }
      .formu2 label {
        margin-bottom: 3px;
      }
      .formu2 input {
        margin-bottom: 20px;
        padding: 8px;
      }
      .resultado-curp {
        background-color: hsl(0, 0%, 94%);
        padding: 24px;
        margin-top: 24px;
        border-radius: 3px;
        display: none;
        flex-direction: column;
        gap: 0.75rem;
      }
      .resultado-curp h3 {
        font-size: 1.4rem;
        color: hsl(0, 0%, 18%);
      }
      .resultado-curp p {
        font-size: 1rem;
        color: hsl(0, 0%, 20%);
      }
      select {
        height: 40px;
        margin-bottom: 20px;
        border: 1px inset;
        background-color: hsl(0, 0%, 90%);
      }
      section {
        margin-left: 80px;
        margin-right: 80px;
      }
      .sec1,
      .sec2 {
        display: inline-block;
        width: 100%;
        flex-direction: column;
        display: flex;
        margin-right: 20px;
      }
      .boton1 {
        padding: 8px;
        border-radius: 3px;
        border: 1px outset;
        box-shadow: 0px 1px 1px hsl(0, 0%, 10%);
        font-size: 1vw;
        color: hsl(0, 0%, 7%);
        background-color: hsl(0, 0%, 98%);
      }
      .boton1:hover {
        background-color: hsl(0, 0%, 90%);
      }
      .c-botones {
        margin-bottom: 2px;
      }
      .boton3 {
        display: inline-block;
        padding: 8px;
        border-radius: 3px;
        border: 1px outset;
        box-shadow: 0px 1px 1px hsl(0, 0%, 10%);
        font-size: 1vw;
        color: hsl(0, 0%, 7%);
        background-color: hsl(0, 0%, 98%);
        width: 130px;
        margin-left: 244px;
      }
      .c-cta1 {
        display: flex;
        flex-direction: row;
      }
      .boton3:hover {
        background-color: hsl(0, 0%, 90%);
      }
      .boton4 {
        padding: 8px;
        border-radius: 3px;
        border: 1px;
        box-shadow: 0px 2px 2px hsl(0, 0%, 8%);
        font-size: 1vw;
        color: hsl(0, 0%, 7%);
        background-color: hsl(0, 0%, 98%);
      }
      .boton4:hover {
        background-color: hsl(0, 0%, 92%);
        box-shadow: 0px 2px 2px hsl(0, 0%, 8%);
      }
      .info {
        background-color: hsl(201, 93%, 82%);
        margin-top: 200px;
        height: 150px;
        display: flex;
        align-items: center;
        padding: 40px;
      }
      .info p {
        font-size: 20px;
      }
      footer {
        background-color: #0f3b27;
        color: #f2f2f2;
        padding: 3rem 1.5rem;
        margin-top: 4rem;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
      }
      .footer-grid h3 {
        font-size: 1.1rem;
        margin-bottom: 1rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
      }
      .footer-grid p {
        margin-bottom: 0.8rem;
        line-height: 1.5;
        font-size: 0.95rem;
      }
      .footer-links {
        list-style: none;
        padding: 0;
      }
      .footer-links li {
        margin-bottom: 0.6rem;
      }
      .footer-links a {
        color: inherit;
        text-decoration: none;
        transition: opacity 0.2s ease-in-out;
        font-size: 0.95rem;
      }
      .footer-links a:hover {
        opacity: 0.7;
      }
      .footer-meta {
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        margin-top: 2.5rem;
        padding-top: 1.5rem;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        font-size: 0.85rem;
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: space-between;
      }
      .footer-meta span,
      .footer-meta a {
        opacity: 0.8;
      }
      .footer-meta a {
        color: inherit;
        text-decoration: none;
      }
      .footer-meta a:hover {
        text-decoration: underline;
      }
      @media (max-width: 1024px) {
        section {
          margin-left: 40px;
          margin-right: 40px;
        }
        .formu1,
        .formu2 {
          width: 100%;
        }
        .formu2 {
          gap: 1.5rem;
        }
        .logo {
          margin-left: 30px;
        }
        .c-titulo {
          margin-left: 40px;
          margin-right: 40px;
        }
      }
      @media (max-width: 768px) {
        nav ul {
          margin-right: 0;
          width: 100%;
          justify-content: space-between;
        }
        nav ul li a {
          font-size: 1rem;
        }
        label {
          font-size: 1rem;
        }
        input,
        select {
          font-size: 1rem;
          width: 100%;
        }
        .boton1,
        .boton3,
        .boton4 {
          font-size: 0.95rem;
        }
        .boton3 {
          margin-left: 0;
          width: auto;
        }
        .c-cta1 {
          flex-wrap: wrap;
          gap: 1rem;
        }
        section {
          margin-left: 24px;
          margin-right: 24px;
        }
        .formu1,
        .formu2 {
          padding: 24px;
        }
        .formu2 {
          flex-direction: column;
        }
        .sec1,
        .sec2 {
          margin-right: 0;
        }
        .info {
          margin-top: 120px;
          height: auto;
        }
        .info p {
          font-size: 1rem;
        }
      }
      @media (max-width: 600px) {
        body {
          font-size: 16px;
        }
        nav {
          align-items: center;
        }
        .logo {
          height: 70px;
          margin-left: 0;
        }
        nav ul {
          justify-content: center;
          gap: 1.2rem;
        }
        .c-titulo {
          margin: 32px 20px;
          text-align: center;
        }
        .c-titulo .titulo {
          font-size: 9vw;
        }
        .c-titulo .sub {
          font-size: 1rem;
          margin-left: 0;
        }
        .c-cta1 {
          flex-direction: column;
          align-items: stretch;
        }
        .boton3 {
          width: 100%;
        }
        .formu1,
        .formu2 {
          padding: 20px;
        }
        .info {
          margin-top: 80px;
          padding: 24px;
        }
        footer {
          padding: 2.5rem 1.25rem;
        }
        .footer-meta {
          flex-direction: column;
          align-items: center;
          text-align: center;
        }
        .footer-meta span,
        .footer-meta a {
          width: 100%;
        }
      }
      @media (max-width: 420px) {
        nav ul {
          gap: 0.8rem;
        }
        nav ul li a {
          font-size: 0.95rem;
        }
        .boton1 {
          width: 100%;
          margin-bottom: 0.5rem;
        }
        .c-botones {
          display: flex;
          flex-direction: column;
        }
        .formu2 select,
        .formu2 input {
          min-width: 0;
        }
        .info p {
          font-size: 0.95rem;
        }
      }
    </style>
  </head>
  <body>
    <nav>
      <img src="logoGobierno2.svg" class="logo" alt="" />
      <ul>
        <li><a href="#generar">Tramites</a></li>
        <li><a href="#validar">Gobierno</a></li>
        <li><a href="#ayuda">Ayuda</a></li>
      </ul>
    </nav>
    <div class="c-titulo">
      <h1 class="titulo">Consulta tu CURP</h1>
      <h3 class="sub">
        La consulta puede efectuarse indicando la clave CURP cuando ya la conoce
        o proporcionando su nombre y datos de nacimiento.
      </h3>
    </div>

    <section>
      <div class="c-botones">
        <button class="boton1 bolo" onclick="dalo()">
          Clave Ùnica De Registro Poblacional
        </button>
        <button class="boton1 bolo2" onclick="dale()">Datos Personales</button>
      </div>
      <form action="" class="formu1">
        <label for="">Clave Única de Registro de Población (CURP)*:</label>
        <input type="text" placeholder="Ingrese su CURP" required /><br />
        <div class="c-cta1">
          <a href="#" class="mostrar-datos" style="display: inline-block"
            >No conoces tu CURP?</a
          >
          <button class="boton3">Buscar</button>
        </div>
      </form>
      <form action="" class="formu2" id="form-curp">
        <div class="sec1">
          <label for="nombre">Nombre(s)</label>
          <input
            type="text"
            id="nombre"
            placeholder="Ingresa tu nombre"
            autocomplete="off"
            required
          />
          <label for="apellido1">Primer Apellido</label>
          <input
            type="text"
            id="apellido1"
            placeholder="Ingresa tu primer apellido"
            autocomplete="off"
            required
          />
          <label for="apellido2">Segundo Apellido</label>
          <input
            type="text"
            id="apellido2"
            placeholder="Ingresa tu segundo apellido"
            autocomplete="off"
            required
          />
          <label for="dia">Dia de nacimiento</label>
          <select id="dia" required>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
          </select>
        </div>

        <div class="sec2">
          <label for="mes">Mes de nacimiento</label>
          <select id="mes" required>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
          </select>
          <label for="">Año de nacimiento</label>
          <input
            type="number"
            id="anio"
            placeholder="Ej: 2002"
            min="1900"
            max="2099"
            required
          />
          <label for="sexo">Sexo</label>
          <select id="sexo" required>
            <option value="H">Hombre</option>
            <option value="M">Mujer</option>
          </select>
          <label for="estado">Estado</label>
          <select id="estado" required>
            <option value="AS">Aguascalientes</option>
            <option value="BC">Baja California</option>
            <option value="BS">Baja California Sur</option>
            <option value="CC">Campeche</option>
            <option value="CS">Chiapas</option>
            <option value="CH">Chihuahua</option>
            <option value="CL">Coahuila</option>
            <option value="DF">Ciudad de México</option>
            <option value="CM">Colima</option>
            <option value="DG">Durango</option>
            <option value="MC">Estado de México</option>
            <option value="GT">Guanajuato</option>
            <option value="GR">Guerrero</option>
            <option value="HG">Hidalgo</option>
            <option value="JC">Jalisco</option>
            <option value="MN">Michoacán</option>
            <option value="MS">Morelos</option>
            <option value="NT">Nayarit</option>
            <option value="NL">Nuevo León</option>
            <option value="OC">Oaxaca</option>
            <option value="PL">Puebla</option>
            <option value="QT">Querétaro</option>
            <option value="QR">Quintana Roo</option>
            <option value="SP">San Luis Potosí</option>
            <option value="SL">Sinaloa</option>
            <option value="SR">Sonora</option>
            <option value="TC">Tabasco</option>
            <option value="TS">Tamaulipas</option>
            <option value="TL">Tlaxcala</option>
            <option value="VZ">Veracruz</option>
            <option value="YN">Yucatán</option>
            <option value="ZS">Zacatecas</option>
            <option value="NE">Nacido en el extranjero</option>
          </select>
          <button class="boton4" type="submit">Enviar</button>
        </div>
      </form>
      <div class="resultado-curp" id="resultado-curp">
        <h3>Resultado de CURP</h3>
        <p><strong>Nombre:</strong> <span id="resultado-nombre"></span></p>
        <p><strong>CURP:</strong> <span id="resultado-curp-texto"></span></p>
        <button class="boton4" type="button" id="btn-pdf" disabled>
          Descargar PDF
        </button>
      </div>

      <div class="info">
        <p>
          ¡Sugerencia! Para solicitar asistencia telefónica sobre el servicio de
          la CURP, puedes comunicarte al Centro de Atención y Servicios, de
          lunes a viernes, de 08:00 a 16:00 horas, a los números telefónicos:
          800 9 11 11 11, extensiones 15100 y 15101.
        </p>
      </div>
    </section>

    <footer>
      <div class="footer-grid">
        <div>
          <h3>Gobierno de México</h3>
          <p>
            Secretaría de Gobernación · Dirección General del Registro Nacional
            de Población e Identidad. Avanzamos para acercar trámites y
            servicios a todas las personas.
          </p>
        </div>
        <div>
          <h3>Servicios en línea</h3>
          <ul class="footer-links">
            <li><a href="https://www.gob.mx/curp/">Consulta tu CURP</a></li>
            <li>
              <a href="https://www.gob.mx/tramites">Trámites y servicios</a>
            </li>
            <li>
              <a href="https://www.gob.mx/gobierno">Dependencias federales</a>
            </li>
          </ul>
        </div>
        <div>
          <h3>Contacto ciudadano</h3>
          <p>Centro de Contacto Ciudadano: 55 5128 0000</p>
          <p>Atención CURP: 800 911 11 11 ext. 15100 y 15101</p>
          <p>Correo: atencion@segob.gob.mx</p>
        </div>
      </div>
      <div class="footer-meta">
        <span>© 2024 Gobierno de México</span>
        <a href="https://www.gob.mx/privacidadintegral"
          >Política de privacidad</a
        >
        <span>Última actualización: abril 2024</span>
      </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
      function dale() {
        const cambio = document.querySelector(".bolo2");
        const cambio1 = document.querySelector(".bolo");
        const formu = document.querySelector(".formu2");
        const formula1 = document.querySelector(".formu1");
        if (cambio.innerText === "Datos Personales") {
          formu.style.display = "flex";
          formula1.style.display = "none";
        }
      }

      function dalo() {
        const cambio = document.querySelector(".bolo2");
        const cambio1 = document.querySelector(".bolo");
        const formu = document.querySelector(".formu2");
        const formula1 = document.querySelector(".formu1");
        if (cambio1.innerText === "Clave Ùnica De Registro Poblacional") {
          formula1.style.display = "flex";
          formu.style.display = "none";
        }
      }

      document.addEventListener("DOMContentLoaded", function () {
        const mostrarDatos = document.querySelector(".mostrar-datos");
        if (mostrarDatos) {
          mostrarDatos.addEventListener("click", function (event) {
            event.preventDefault();
            dale();
          });
        }
        inicializarGeneradorCurp();
      });

      function inicializarGeneradorCurp() {
        const formCurp = document.getElementById("form-curp");
        const resultado = document.getElementById("resultado-curp");
        const textoCurp = document.getElementById("resultado-curp-texto");
        const textoNombre = document.getElementById("resultado-nombre");
        const botonPdf = document.getElementById("btn-pdf");
        let datosGenerados = null;

        if (!formCurp) {
          return;
        }

        formCurp.addEventListener("submit", function (event) {
          event.preventDefault();

          const nombres = document.getElementById("nombre").value.trim();
          const apellido1 = document.getElementById("apellido1").value.trim();
          const apellido2 = document.getElementById("apellido2").value.trim();
          const dia = document.getElementById("dia").value;
          const mes = document.getElementById("mes").value;
          const anio = document.getElementById("anio").value.trim();
          const sexo = document.getElementById("sexo").value;
          const estado = document.getElementById("estado").value;

          if (anio.length !== 4) {
            alert("El año debe contener 4 dígitos.");
            return;
          }

          const datos = {
            nombres,
            apellido1,
            apellido2,
            dia,
            mes,
            anio,
            sexo,
            estado,
          };

          const curpGenerada = generarCurp(datos);
          datosGenerados = { ...datos, curp: curpGenerada };

          textoCurp.textContent = curpGenerada;
          textoNombre.textContent = `${nombres} ${apellido1} ${apellido2}`;
          resultado.style.display = "flex";
          botonPdf.disabled = false;
        });

        if (botonPdf) {
          botonPdf.addEventListener("click", function () {
            if (!datosGenerados || !window.jspdf) {
              return;
            }
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.text("Constancia CURP", 20, 20);
            doc.text(`Nombre: ${datosGenerados.nombres} ${datosGenerados.apellido1} ${datosGenerados.apellido2}`, 20, 35);
            doc.text(
              `Fecha de nacimiento: ${datosGenerados.dia}/${datosGenerados.mes}/${datosGenerados.anio}`,
              20,
              45
            );
            doc.text(`Sexo: ${datosGenerados.sexo === "H" ? "Hombre" : "Mujer"}`, 20, 55);
            doc.text(`Entidad: ${obtenerNombreEstado(datosGenerados.estado)}`, 20, 65);
            doc.text(`CURP: ${datosGenerados.curp}`, 20, 80);
            doc.save(`CURP_${datosGenerados.curp}.pdf`);
          });
        }
      }

      function generarCurp(datos) {
        const apellidoPaterno = limpiarApellido(datos.apellido1);
        const apellidoMaterno = limpiarApellido(datos.apellido2);
        const nombresLimpios = normalizarCadena(datos.nombres);
        const nombresPartes = nombresLimpios.split(/\s+/).filter(Boolean);
        const nombreClave = obtenerNombreClave(nombresPartes);

        const letraApellidoPaterno = obtenerPrimeraLetra(apellidoPaterno);
        const vocalInterna = obtenerPrimeraVocalInterna(apellidoPaterno);
        const letraApellidoMaterno = obtenerPrimeraLetra(apellidoMaterno);
        const letraNombre = obtenerPrimeraLetra(nombreClave);

        const fecha = `${datos.anio.slice(-2)}${datos.mes}${datos.dia}`;

        const consonantePaterno = obtenerPrimeraConsonanteInterna(apellidoPaterno);
        const consonanteMaterno = obtenerPrimeraConsonanteInterna(apellidoMaterno);
        const consonanteNombre = obtenerPrimeraConsonanteInterna(nombreClave);

        const base =
          letraApellidoPaterno +
          vocalInterna +
          letraApellidoMaterno +
          letraNombre +
          fecha +
          datos.sexo +
          normalizarEntidad(datos.estado) +
          consonantePaterno +
          consonanteMaterno +
          consonanteNombre;

        const homoclave = "0";
        const digito = calcularDigitoVerificador(base + homoclave);

        return base + homoclave + digito;
      }

      function normalizarCadena(texto) {
        return texto
          .trim()
          .toUpperCase()
          .normalize("NFD")
          .replace(/[\u0300-\u036f]/g, "")
          .replace(/Ñ/g, "X")
          .replace(/[^A-Z\s]/g, "");
      }

      function limpiarApellido(apellido) {
        const sinPrefijos = normalizarCadena(apellido).split(/\s+/).filter(Boolean);
        const prefijos = [
          "DA",
          "DAS",
          "DE",
          "DEL",
          "DER",
          "DI",
          "DIE",
          "DD",
          "EL",
          "LA",
          "LAS",
          "LOS",
          "LE",
          "LES",
          "MAC",
          "MC",
          "VAN",
          "VON",
          "Y",
        ];
        while (sinPrefijos.length > 1 && prefijos.includes(sinPrefijos[0])) {
          sinPrefijos.shift();
        }
        return sinPrefijos.join(" ");
      }

      function obtenerNombreClave(nombres) {
        if (!nombres.length) {
          return "";
        }
        const excluidos = ["JOSE", "J", "J.", "JO", "MARIA", "MA", "MA.", "M"];
        if (nombres.length > 1 && excluidos.includes(nombres[0])) {
          for (let i = 1; i < nombres.length; i++) {
            if (!excluidos.includes(nombres[i])) {
              return nombres[i];
            }
          }
        }
        return nombres[0];
      }

      function obtenerPrimeraLetra(texto) {
        return texto.replace(/\s+/g, "").charAt(0) || "X";
      }

      function obtenerPrimeraVocalInterna(texto) {
        const sinEspacios = texto.replace(/\s+/g, "");
        for (let i = 1; i < sinEspacios.length; i++) {
          if ("AEIOU".includes(sinEspacios[i])) {
            return sinEspacios[i];
          }
        }
        return "X";
      }

      function obtenerPrimeraConsonanteInterna(texto) {
        const sinEspacios = texto.replace(/\s+/g, "");
        for (let i = 1; i < sinEspacios.length; i++) {
          const letra = sinEspacios[i];
          if (!"AEIOU".includes(letra)) {
            return letra;
          }
        }
        return "X";
      }

      function normalizarEntidad(entidad) {
        return entidad;
      }

      function obtenerNombreEstado(clave) {
        const estados = {
          AS: "Aguascalientes",
          BC: "Baja California",
          BS: "Baja California Sur",
          CC: "Campeche",
          CS: "Chiapas",
          CH: "Chihuahua",
          CL: "Coahuila",
          DF: "Ciudad de México",
          CM: "Colima",
          DG: "Durango",
          MC: "Estado de México",
          GT: "Guanajuato",
          GR: "Guerrero",
          HG: "Hidalgo",
          JC: "Jalisco",
          MN: "Michoacán",
          MS: "Morelos",
          NT: "Nayarit",
          NL: "Nuevo León",
          OC: "Oaxaca",
          PL: "Puebla",
          QT: "Querétaro",
          QR: "Quintana Roo",
          SP: "San Luis Potosí",
          SL: "Sinaloa",
          SR: "Sonora",
          TC: "Tabasco",
          TS: "Tamaulipas",
          TL: "Tlaxcala",
          VZ: "Veracruz",
          YN: "Yucatán",
          ZS: "Zacatecas",
          NE: "Nacido en el extranjero",
        };
        return estados[normalizarEntidad(clave)] || clave;
      }

      function calcularDigitoVerificador(curp17) {
        const valores = "0123456789ABCDEFGHIJKLMNÑOPQRSTUVWXYZ";
        let suma = 0;
        for (let i = 0; i < curp17.length; i++) {
          const valor = valores.indexOf(curp17[i]);
          if (valor === -1) {
            continue;
          }
          suma += valor * (18 - (i + 1));
        }
        const resto = suma % 10;
        return ((10 - resto) % 10).toString();
      }
    </script>
  </body>
</html>
